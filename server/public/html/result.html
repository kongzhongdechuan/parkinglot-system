

<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <title>车位检测系统</title>
</head>

<body>

    <div id="container" style="width: 1370px;">
        <div id="header" style="background-color:#80f7f3;">
            <h1 style="margin-bottom:0;text-align: center;">车位检测系统</h1>
        </div>

        <div id="content" style="background-color:#97dbee;height:600px;width:1100px;float:left;">
            <div style="background-color: #5f818b;height: 80px;overflow: hidden;">
                <!--在style中加入overflow：hidden,否则会移动div-->
                <h2> 信息显示区域</h2>
            </div>

            <div style="height: 520px;">
                <!--<img id="parking-lot" src="D:\\桌面\\小毕设\\具体实现\\前端\\image\\parking.jpg">-->
                <canvas id="drawing-canvas" width="1100px" height="520px" background-color="#FF0000">
                    浏览器不支持HTML5 canvas 标签
                </canvas>
                <script>

                    const myImg = new Image();
                    myImg.src = 'images/parking.jpg';

                    var canvas = document.getElementById('drawing-canvas');
                    var context = canvas.getContext('2d');
                    context.strokeStyle = 'red';
                    context.lineWidth = 7;
                    myImg.onload = function () {
                        console.log(this);
                        context.drawImage(this,0,0);

                        // context.moveTo(10,260);
                        // context.lineTo(1000,260);
                        // cotext.stroke();
                    }
                </script>



            </div>
        </div>


        <div id="menu" style="background-color:#5afaba;text-align:center;height:600px;width:270px;float:left;">
            <div style="height: 40px;">
                <div style="height: 10px;"></div>
                <b>菜单</b>
            </div>
            <div style="height: 380px;">
                <input type="file" id="image-input" accept="image/*"><br>
                <!--图片的默认大小为高度为:195像素,宽度为:260像素。使用之前先用python修改一下-->
                <img id="image-preview" src="">
            </div>
            <button id="enter-button" style="height: 50px;width: 200px;">车辆进入</button><br>
            <div style="height: 40px;"></div>
            <button id="eixt-button" style="height: 50px;width: 200px;">车辆驶出</button><br>
        </div>


    </div>


    <script>
        // 获取页面元素
        const imageInput = document.getElementById('image-input');
        const processImageBtn = document.getElementById('process-image');
        const imagePreview = document.getElementById('image-preview');
        const outputImage = document.getElementById('output-image');

        // 监听图片上传事件
        imageInput.addEventListener('change', function () {
            const file = imageInput.files[0];
            if (file) {
                const imageUrl = URL.createObjectURL(file);
                imagePreview.src = imageUrl;
            }
        });


        const enterButton = document.getElementById('enter-button');
        enterButton.addEventListener('click',function(){
            const url = 'car_enter';
            fetch(url)
                .then(response => {
                    if (response.ok) {
                        return response.text();
                    } else {
                        throw new Error('GET request failed');
                    }
                })
                .then(data => {
                    // 替代当前页面内容为新内容
                    document.body.innerHTML = data;
                })
                .catch(error => {
                    console.error('Error:', error);
                });
        });
    </script>

</body>